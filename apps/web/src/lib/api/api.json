{"openapi":"3.0.0","info":{"title":"Daylytic Swagger","description":"API for Daylytic","version":"0.1.0"},"components":{"securitySchemes":{"apiKey":{"type":"apiKey","name":"apiKey","in":"header"}},"schemas":{"def-0":{"type":"object","properties":{"UserSchema":{"type":"object","properties":{"id":{"type":"string","pattern":"^[cC][^\\s-]{8,}$"},"name":{"type":"string"},"email":{"type":"string"},"picture":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"lastSeenAt":{"type":"string","format":"date-time"},"timeZone":{"type":"string"}},"required":["id","name","email","picture","createdAt","lastSeenAt","timeZone"],"additionalProperties":false},"CreateUserInputSchema":{"type":"object","properties":{"token":{"type":"string"},"timeZone":{"type":"string"}},"required":["token","timeZone"],"additionalProperties":false},"GoogleAccountSchema":{"type":"object","properties":{"id":{"$ref":"#/components/schemas/def-0/properties/UserSchema/properties/id"},"email":{"type":"string","format":"email"},"name":{"type":"string"},"picture":{"type":"string"},"timeZone":{"type":"string"}},"required":["id","email","name","picture","timeZone"],"additionalProperties":false},"HeaderBearerSchema":{"type":"object","properties":{"authorization":{"type":"string"}},"required":["authorization"],"additionalProperties":false},"LoadUserInputSchema":{"type":"object","properties":{"token":{"type":"string"},"timeZone":{"type":"string"}},"required":["token"],"additionalProperties":false}},"required":["UserSchema","CreateUserInputSchema","GoogleAccountSchema","HeaderBearerSchema","LoadUserInputSchema"],"additionalProperties":false,"title":"UsersSchema"},"def-1":{"type":"object","properties":{"goalCreateInput":{"type":"object","properties":{"title":{"type":"string","maxLength":32,"minLength":4},"description":{"type":"string","maxLength":90,"minLength":0},"deadline":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}]},"userId":{"type":"string"}},"required":["title","description","deadline","userId"],"additionalProperties":false},"goalDeleteInput":{"type":"object","properties":{"id":{"type":"string"}},"required":["id"],"additionalProperties":false},"goalCore":{"type":"object","properties":{"title":{"$ref":"#/components/schemas/def-1/properties/goalCreateInput/properties/title"},"description":{"$ref":"#/components/schemas/def-1/properties/goalCreateInput/properties/description"},"deadline":{"$ref":"#/components/schemas/def-1/properties/goalCreateInput/properties/deadline"},"userId":{"$ref":"#/components/schemas/def-1/properties/goalCreateInput/properties/userId"},"id":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"progress":{"type":"number"}},"required":["title","description","deadline","userId","id","createdAt","updatedAt","progress"],"additionalProperties":false},"goals":{"type":"array","items":{"$ref":"#/components/schemas/def-1/properties/goalCore"}}},"required":["goalCreateInput","goalDeleteInput","goalCore","goals"],"additionalProperties":false,"title":"GoalsSchema"},"def-2":{"type":"object","properties":{"projectsBaseQuery":{"type":"object","properties":{"goalId":{"type":"string"},"projectId":{"type":"string"}},"required":["goalId","projectId"],"additionalProperties":false}},"required":["projectsBaseQuery"],"additionalProperties":false,"title":"ProjectsSchema"},"def-3":{"type":"object","properties":{"TaskSchema":{"type":"object","properties":{"id":{"type":"string","pattern":"^[cC][^\\s-]{8,}$"},"taskType":{"type":"string","enum":["ROUTINE","TODOLIST"]},"priority":{"type":"integer","default":0},"title":{"type":"string","maxLength":32,"minLength":1},"description":{"anyOf":[{"type":"string","maxLength":90,"minLength":0},{"type":"null"}]},"isCompleted":{"type":"boolean","default":false},"createdAt":{"type":"string","format":"date-time","default":{}},"updatedAt":{"type":"string","format":"date-time"},"deadline":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}]},"todoListId":{"anyOf":[{"$ref":"#/components/schemas/def-3/properties/TaskSchema/properties/id"},{"type":"null"}]},"userId":{"anyOf":[{"$ref":"#/components/schemas/def-3/properties/TaskSchema/properties/id"},{"type":"null"}]},"tags":{"type":"array","items":{"type":"object","properties":{"id":{"$ref":"#/components/schemas/def-3/properties/TaskSchema/properties/id"},"name":{"type":"string"},"color":{"type":"string"},"tasks":{"type":"array","items":{"type":"string"}}},"required":["id","name","color"],"additionalProperties":false}}},"required":["id","taskType","title","description","updatedAt","deadline","todoListId","userId"],"additionalProperties":false},"CreateTaskInputSchema":{"type":"object","properties":{"title":{"$ref":"#/components/schemas/def-3/properties/TaskSchema/properties/title"},"taskType":{"$ref":"#/components/schemas/def-3/properties/TaskSchema/properties/taskType"}},"required":["title","taskType"],"additionalProperties":false},"FetchTasksResponseSchema":{"type":"array","items":{"$ref":"#/components/schemas/def-3/properties/TaskSchema"}},"DeleteTaskInputSchema":{"type":"object","properties":{"id":{"$ref":"#/components/schemas/def-3/properties/TaskSchema/properties/id"}},"required":["id"],"additionalProperties":false},"UpdateTaskInputSchema":{"type":"object","properties":{"id":{"$ref":"#/components/schemas/def-3/properties/TaskSchema/properties/id"},"taskType":{"$ref":"#/components/schemas/def-3/properties/TaskSchema/properties/taskType"},"priority":{"$ref":"#/components/schemas/def-3/properties/TaskSchema/properties/priority"},"title":{"$ref":"#/components/schemas/def-3/properties/TaskSchema/properties/title"},"description":{"$ref":"#/components/schemas/def-3/properties/TaskSchema/properties/description"},"isCompleted":{"$ref":"#/components/schemas/def-3/properties/TaskSchema/properties/isCompleted"},"createdAt":{"$ref":"#/components/schemas/def-3/properties/TaskSchema/properties/createdAt"},"updatedAt":{"$ref":"#/components/schemas/def-3/properties/TaskSchema/properties/updatedAt"},"deadline":{"$ref":"#/components/schemas/def-3/properties/TaskSchema/properties/deadline"},"tags":{"$ref":"#/components/schemas/def-3/properties/TaskSchema/properties/tags"}},"required":["id","taskType","title","description","updatedAt","deadline"],"additionalProperties":false}},"required":["TaskSchema","CreateTaskInputSchema","FetchTasksResponseSchema","DeleteTaskInputSchema","UpdateTaskInputSchema"],"additionalProperties":false,"title":"TaskSchemas"}}},"paths":{"/oauth2/google":{"post":{"tags":["auth"],"description":"Creates an account with session in the db, and returns user object.","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/def-0/properties/LoadUserInputSchema"}}}},"responses":{"201":{"description":"Default Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/def-0/properties/UserSchema"}}}}}},"delete":{"tags":["auth"],"description":"Logs out session assosiated with the bearer","parameters":[{"schema":{"type":"string"},"in":"header","name":"authorization","required":true}],"responses":{"204":{"description":"Succesfully logged out from the account","content":{"application/json":{"schema":{"description":"Succesfully logged out from the account"}}}}}}},"/goals/":{"get":{"tags":["goals"],"responses":{"201":{"description":"Default Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/def-1/properties/goals"}}}}}},"post":{"tags":["goals"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/def-1/properties/goalCreateInput"}}}},"responses":{"201":{"description":"Default Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/def-1/properties/goalCore"}}}}}},"delete":{"tags":["goals"],"parameters":[{"schema":{"type":"string"},"in":"query","name":"id","required":true}],"responses":{"204":{"description":"Goal successfully deleted. No content returned.","content":{"application/json":{"schema":{"description":"Goal successfully deleted. No content returned."}}}}}}},"/projects/":{"get":{"parameters":[{"schema":{"type":"string"},"in":"query","name":"goalId","required":true},{"schema":{"type":"string"},"in":"query","name":"projectId","required":true}],"responses":{"200":{"description":"Default Response"}}},"post":{"parameters":[{"schema":{"type":"string"},"in":"query","name":"goalId","required":true},{"schema":{"type":"string"},"in":"query","name":"projectId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/routine/":{"post":{"tags":["routine"],"description":"Create new daily task","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/def-3/properties/CreateTaskInputSchema"}}}},"parameters":[{"schema":{"type":"string"},"in":"header","name":"authorization","required":true}],"responses":{"201":{"description":"Default Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/def-3/properties/TaskSchema"}}}}}},"get":{"tags":["routine"],"description":"Fetches given user tasks","parameters":[{"schema":{"type":"string"},"in":"header","name":"authorization","required":true}],"responses":{"201":{"description":"Default Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/def-3/properties/FetchTasksResponseSchema"}}}}}},"delete":{"tags":["routine"],"description":"Deletes daily task","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/def-3/properties/DeleteTaskInputSchema"}}}},"parameters":[{"schema":{"type":"string"},"in":"header","name":"authorization","required":true}],"responses":{"200":{"description":"Default Response"}}},"put":{"tags":["routine"],"description":"Updates the data of the daily task","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/def-3/properties/UpdateTaskInputSchema"}}}},"parameters":[{"schema":{"type":"string"},"in":"header","name":"authorization","required":true}],"responses":{"201":{"description":"Default Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/def-3/properties/TaskSchema"}}}}}}}},"servers":[{"url":"http://localhost:8084","description":"Development server"}],"tags":[{"name":"auth","description":"Authentication related end-points"},{"name":"goals","description":"Goals related end-points"},{"name":"projects","description":"Projects related end-points"},{"name":"routine","description":"Routine related end-points"}]}